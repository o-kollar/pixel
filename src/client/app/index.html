<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Generator</title>
  <meta name="description" content="Generate an image with our AI tool">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="widgets/loader.js"></script>
  <script type="module" src="./scripts/script.js"></script>
</head>
<style>
  @layer utilities {
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
}

</style>
<body  class="bg-gray-100 h-screen">

<div x-data="imageGenerator()">

    
<div class="grid grid-cols-5 grid-rows-5 gap-4 max-h-screen">
  <div class="row-span-2 hidden lg:block w-64">
    <x-widget class="" name="side_menu"></x-widget>
  </div>
  <div  class="col-span-3 col-start-2 row-span-4 overflow-y-auto hide-scrollbar"><x-widget name="gallery"></x-widget></div>
  <div class="row-span-2 max-h-screen">3</div>
  <div class="col-start-2 col-span-3 row-start-5">
    <x-widget class="w-full" name="chat_window"></x-widget>
  </div>
</div>


    

</div>

<script src="./scripts/api.js"></script>
<script>
  async function init() {
    try {
      const response = await fetch('/check-auth', {
        method: 'GET',
        credentials: 'include', // Ensures cookies are sent
      });
      const data = await response.json();
      if (data.authenticated) {
       
      }
    } catch (error) {
      console.error('Auth check failed:', error);
      window.location.href = '/auth'; // Redirect to the main app
    }
  }

  // Call the function when the page loads
 init()
</script>


</body>
</html>
